<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <title>Mostrar messages</title>
    <style>
        .container {
            max-width: 1350px;
        }
    </style>

    <link href="/style/index.css" rel="stylesheet" type="text/css"/>
    <link rel="favicon" type="image/svg" href="/favicon.ico">
</head>
<body>
<%- include('partials/tabNavigation') %>

<% if(alert_message_delete){ %>
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <strong>Mensaje Eliminado!</strong> Eliminado correctamente el mensaje: <%= alert_message_delete %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<% } %>
<div class="container">
    <h1> Your messages</h1>
    <h2> Messages represent the data exchanged between IXCI and the remotely controlled application in Unity.
        They group information to be sent and define the structure of the messages that will be received
    </h2>
    <div class="shadow-lg pb-3 mb-5 bg-body rounded ">


        <!-- TABLA MUESTRA MENSAJES  -->
        <table id="tablaMessages" class="table mt-4">
            <thead>
            <tr>
                <th style="display:none">id</th>
                <th>Name of the message / datatype </th>
                <th>Fields of the message</th>

            </tr>
            </thead>
            <% messages.forEach( (message) => { %>
                <tr style="background-color: #10434e;">
                    <td style="display:none"><%= message._id %></td>
                    <td style="color:#1d61d8;font-size: 22px;"><%= message.messageName %></td>
                    <td>
                        <% var i = 1; %>

                        <ul>
                            <% message.messageFields.forEach((types) => { %>

                                <li><a style="color:#fffbf3"> field <%= i %>:</a> <a
                                            style="color:#1bf3d7"> <%= types.dataName %></a> <a
                                            style="color:#f3fed4">(<%= types.dataType %>)</a></li>
                                <% i++; %>
                            <% }) %>

                        </ul>

                    </td>
                    <td>
                        <a href="/delete_message/<%= message._id %>/<%= message.name %>"
                           class="btn btn-outline-danger bi bi-trash" onclick="return confirm('Are you sure?');"></a>
                    </td>
                </tr>

            <% }) %>
        </table>
    </div>
</div>


<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>


<%- include("partials/footer") %>
</body>
</html>


<!-- Optional JavaScript; choose one of the two! -->





